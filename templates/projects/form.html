{% extends "base.html" %}
{% block title %}{{ 'Edit' if project else 'New' }} Project - Taskmaster{% endblock %}

{% block content %}
<h1>{{ 'Edit' if project else 'New' }} Project</h1>

<form method="post" class="mt-3" style="max-width: 600px;">
    <div class="mb-3">
        <label for="name" class="form-label">Project Name</label>
        <input type="text" class="form-control" id="name" name="name"
               value="{{ project.name if project else '' }}" required>
    </div>
    <div class="mb-3">
        <label for="description" class="form-label">Description</label>
        <textarea class="form-control" id="description" name="description" rows="3">{{ project.description if project else '' }}</textarea>
    </div>
    <div class="row">
        <div class="col-md-6 mb-3">
            <label for="start_date" class="form-label">Start Date</label>
            <input type="date" class="form-control" id="start_date" name="start_date"
                   value="{{ project.start_date if project and project.start_date else '' }}">
        </div>
        <div class="col-md-6 mb-3">
            <label for="end_date" class="form-label">End Date</label>
            <input type="date" class="form-control" id="end_date" name="end_date"
                   value="{{ project.end_date if project and project.end_date else '' }}">
        </div>
    </div>
    <div class="mb-3">
        <label for="status" class="form-label">Status</label>
        <select class="form-select" id="status" name="status">
            {% for s in ['active', 'completed', 'on_hold'] %}
            <option value="{{ s }}" {{ 'selected' if project and project.status == s else '' }}>
                {{ s | replace('_', ' ') | title }}
            </option>
            {% endfor %}
        </select>
    </div>
    <button type="submit" class="btn btn-primary">{{ 'Update' if project else 'Create' }} Project</button>
    {% if project %}
    <a href="{{ url_for('projects.detail', id=project.id) }}" class="btn btn-outline-secondary">Cancel</a>
    <a href="{{ url_for('projects.delete_project', id=project.id) }}" class="btn btn-outline-danger ms-2">Delete Project</a>
    {% else %}
    <a href="{{ url_for('projects.list_projects') }}" class="btn btn-outline-secondary">Cancel</a>
    {% endif %}
</form>
{% endblock %}
